<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Spellbound Minecraft</title>
  <link rel="icon" type="image/png" href="creeper.png" />
  <style>
    :root{
      --bg:#2b2b2b;
      --muted:#cfcfcf;
      --accent:#9ecbff;
      --card:#2a2a2a;
      --sidebar:#1f1f1f;
    }
    html,body{height:100%;margin:0}
    body{
      background:var(--bg);
      color:#eee;
      font-family:system-ui,Arial,sans-serif;
      display:flex;
      flex-direction:column;
    }
    a{color:var(--accent)}

    /* Header container with sidebars */
    .header-container {
      display: flex;
    }
    .header-sidebar {
      flex: 1;
      background: var(--sidebar);
    }
    .header-content {
      flex: 2;
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px 20px 0;
      box-sizing: border-box;
    }
    .header-image {
      display: block;
      max-width: 1000px;   
      width: 90%;          
      margin: 0 auto;   
      background: transparent;
    }

    /* Page wrap with sidebars */
    .page{
      flex:1;
      display:flex;
    }
    .sidebar{
      flex:1;
      background:var(--sidebar);
      position:relative;
      overflow:hidden;
    }

    /* Subtle grid pattern */
    .sidebar::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-image: 
        linear-gradient(rgba(158, 203, 255, 0.02) 1px, transparent 1px),
        linear-gradient(90deg, rgba(158, 203, 255, 0.02) 1px, transparent 1px);
      background-size: 20px 20px;
    }
    .wrap{
      flex:2;
      max-width:1200px;
      display:flex;
      flex-direction:column;
      margin:0 auto;
      padding:40px 20px 24px;
      box-sizing:border-box;
      min-height:calc(100vh - 64px - 200px);
    }

    .layout{
      display:grid;
      grid-template-columns:minmax(280px,40%) 1fr;
      gap:24px;
      align-items:start;
      flex:1;
    }
    .left{
      padding-right:8px;
      display:flex;
      flex-direction:column;
      min-width:0;
    }
    h1{margin:0 0 14px;font-size:30px}
    p{margin:0 0 20px;color:var(--muted)}
    h2{margin:20px 0 12px;font-size:16px}
    ul{margin:8px 0 0 20px;color:var(--muted)}

    .discord-btn{
      display:inline-block;
      margin-top:16px;
      padding:10px 14px;
      background:#5865F2;
      color:#fff;
      border-radius:6px;
      text-decoration:none;
      font-weight:600;
      width:fit-content;
    }

    .heads-wrap{
      margin-top:16px;
      max-height:calc(100vh - 320px);
      overflow:auto;
      padding-right:6px;
      width:100%;
      box-sizing:border-box;
    }
    .heads-grid{
      display:grid;
      grid-template-columns: repeat(auto-fill, minmax(56px, 1fr));
      gap:10px;
      align-items:start;
      width:100%;
    }
    .head{
      width:56px;
      height:56px;
      border-radius:8px;
      background:transparent;
      overflow:hidden;
      position:relative;
      cursor:pointer;
      transition:transform .2s ease;
      display:flex;
      align-items:center;
      justify-content:center;
      justify-self:center;
    }
    .head img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
      background:transparent;
    }

    @keyframes wiggle {
      0%, 100% { transform: rotate(0deg) scale(1.2); }
      25% { transform: rotate(-5deg) scale(1.2); }
      50% { transform: rotate(5deg) scale(1.2); }
      75% { transform: rotate(-3deg) scale(1.2); }
    }
    .head:hover{
      animation: wiggle 0.35s ease-in-out;
      z-index:2;
    }

    .rules-wrap{margin-top:12px}
    .rules-box{
      background:var(--card);
      border-radius:8px;
      padding:10px;
      color:var(--muted);
      font-size:16px;
      line-height:1.35;
      margin-top:6px;
      margin-left:8px;
    }
    .rules-list{margin:8px 0 0 20px;color:var(--muted)}
    .rules-more{margin-top:10px;color:var(--muted);font-size:13px}
    .right{
      display:flex;
      flex-direction:column;
      align-items:flex-start;
      min-width:0;
    }

    .slider{
      position:relative;
      overflow:visible;
      border-radius:6px;
      width:100%;
      transition:height 260ms ease;
      background:transparent;
    }
    .track{position:relative}
    .slide{
      position:absolute;
      inset:0;
      display:flex;
      align-items:center;
      justify-content:center;
      opacity:0;
      pointer-events:none;
      transition:opacity .42s ease;
    }
    .slide.active{
      opacity:1;
      pointer-events:auto;
      z-index:1;
      position:relative;
    }
    .slide img{
      display:block;
      max-width:100%;
      height:auto;
      object-fit:contain;
      object-position:center top;
      background:transparent;
    }

    footer{
      margin-top:auto;
      color:#b5b5b5;
      font-size:13px;
      text-align:center;
      padding-top:20px;
    }

    @media (max-width:900px){
      .header-sidebar{display:none;}
      .header-content{
        flex:1;
        padding:20px;
      }
      .layout{
        grid-template-columns:1fr;
        gap:20px;
      }
      .heads-grid{
        grid-template-columns: repeat(auto-fill, minmax(48px, 1fr)); 
        gap:8px;
      }
      .head{
        width:48px;
        height:48px;
        border-radius:6px;
      }
      .rules-box{margin-left:4px}
      .heads-wrap{
        max-height:300px;
      }
      .sidebar{display:none;}
    }

    .heads-wrap::-webkit-scrollbar {
      width: 6px;
    }
    .heads-wrap::-webkit-scrollbar-track {
      background: var(--bg);
    }
    .heads-wrap::-webkit-scrollbar-thumb {
      background: var(--card);
      border-radius: 3px;
    }
    .heads-wrap::-webkit-scrollbar-thumb:hover {
      background: #444;
    }
  </style>
</head>
<body>
  <!-- Header with matching sidebar layout -->
  <div class="header-container">
    <div class="header-sidebar"></div>
    <div class="header-content">
      <img src="headerimage.png" alt="Spellbound Header" class="header-image">
    </div>
    <div class="header-sidebar"></div>
  </div>

  <div class="page">
    <div class="sidebar"></div>
    <div class="wrap">
      <div class="layout">
        <div class="left">
          <h1>Spellbound Minecraft</h1>
          <p>Vanilla Minecraft for the greatest of crafters. The hottest, most sexiest that the mines have to offer.</p>
          <h2>Features</h2>
          <ul>
            <li>32 Render Distance, 8 Sim</li>
            <li>Keep Inventory enabled</li>
            <li>Whitelist enabled</li>
            <li>Latest Minecraft version</li>
            <li>Discord chat integration</li>
            <li>Creative & Event server</li>
          </ul>

          <a href="https://discord.spellbound.sh" target="_blank" rel="noopener" class="discord-btn">Join our Discord to apply</a>

          <div class="rules-wrap">
            <h2>Survival Rules</h2>
            <div class="rules-box">
              <ul class="rules-list">
                <li>Be nice to your fellow crafter</li>
                <li>No NSFW chat</li>
                <li>No X-ray</li>
                <li>No griefing</li>
                <li>No stealing</li>
                <li>No hacking</li>
                <li>No game-breaking duplication</li>
                <li>Do not impede on another player's area</li>
                <li>Do not utilize any game-breaking exploits</li>
              </ul>

              <p class="rules-more">More details can be found on our Discord server.</p>
            </div>
          </div>
        </div>

        <div class="right">
          <h2>Screenshots</h2>
          <div class="slider" id="slider" aria-roledescription="carousel">
            <div class="track" id="track">
              <!-- Screenshots will be dynamically loaded here -->
            </div>
          </div>

          <div class="heads-wrap">
            <h2>Players</h2>
            <div class="heads-grid" id="headsGrid"></div>
          </div>
        </div>
      </div>

      <footer>© <span id="year"></span> madelineopolis enterprizes LLSEE</footer>
    </div>
    <div class="sidebar"></div>
  </div>

  <script>
    const players = [
      { username: "Unicornspice42", uuid: "6f4de73f-ce25-4deb-aeec-cd3dc77f336b" },
      { username: "lokm08", uuid: "4cdb1915-2693-4aa0-893c-edba7d2db2f1" },
      { username: "8oii", uuid: "74b1b59b-43a9-4f5f-b70c-5df43809a178" },
      { username: "lpwo", uuid: "98273cbc-0444-4db3-9c41-b2d0f3851478" },
      { username: "MrCookie894247", uuid: "ec3ca24e-9294-47f4-9ca4-eb3df9cf50ce" },
      // … rest of players
    ];

    // Dynamically load screenshots
    function loadScreenshots() {
      const track = document.getElementById('track');
      let screenshotIndex = 1;
      let maxAttempts = 20;
      let loadedCount = 0;
      
      function checkForScreenshot(index) {
        if (index > maxAttempts) {
          console.log(`Loaded ${loadedCount} screenshots`);
          return;
        }
        const img = new Image();
        img.onload = function() {
          const slideDiv = document.createElement('div');
          slideDiv.className = 'slide';
          slideDiv.innerHTML = `<img src="scrn${index}.png" alt="Screenshot ${index}" loading="lazy">`;
          track.appendChild(slideDiv);
          loadedCount++;
          if (loadedCount === 1) showSlide(0);
          checkForScreenshot(index + 1);
        };
        img.onerror = function() {
          console.log(`Loaded ${loadedCount} screenshots`);
        };
        img.src = `scrn${index}.png`;
      }
      
      checkForScreenshot(screenshotIndex);
    }

    function updateSliderHeight(img) {
      const slider = document.getElementById('slider');
      if (img.complete) {
        slider.style.height = img.offsetHeight + 'px';
      } else {
        img.onload = () => slider.style.height = img.offsetHeight + 'px';
      }
    }

    function loadPlayerHeads() {
      const headsGrid = document.getElementById('headsGrid');
      const hoverSound = new Audio('orb.mp3');
      hoverSound.volume = 0.5;

      players.forEach(player => {
        const headDiv = document.createElement('div');
        headDiv.className = 'head';
        headDiv.innerHTML = `<img src="https://mc-heads.net/avatar/${player.username}/56" alt="${player.username}" title="${player.username}" loading="lazy">`;

        headDiv.addEventListener('mouseenter', () => {
          hoverSound.currentTime = 0;
          hoverSound.play().catch(e => console.log(e));
        });

        headsGrid.appendChild(headDiv);
      });
    }

    function initSlider() {
      const slides = document.querySelectorAll('.slide');
      let currentSlide = 0;

      if (slides.length === 0) return;

      function showSlide(index) {
        slides.forEach(slide => slide.classList.remove('active'));
        slides[index].classList.add('active');
        const img = slides[index].querySelector('img');
        if (img) updateSliderHeight(img);
      }

      function nextSlide() {
        currentSlide = (currentSlide + 1) % slides.length;
        showSlide(currentSlide);
      }

      if (slides.length > 1) setInterval(nextSlide, 4000);

      window.addEventListener('resize', () => {
        const activeSlide = document.querySelector('.slide.active');
        if (activeSlide) {
          const img = activeSlide.querySelector('img');
          if (img && img.complete) updateSliderHeight(img);
        }
      });
    }

    document.addEventListener('DOMContentLoaded', () => {
      loadPlayerHeads();
      loadScreenshots();
      setTimeout(() => initSlider(), 100);
      document.getElementById('year').textContent = new Date().getFullYear();
    });
  </script>
</body>
</html>
