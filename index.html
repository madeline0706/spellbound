<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Spellbound Minecraft</title>
  <link rel="icon" type="image/png" href="creeper.png" />
  <style>
    :root{
      --bg:#2b2b2b;
      --muted:#cfcfcf;
      --accent:#9ecbff;
      --card:#2a2a2a;
    }
    html,body{height:100%;margin:0}
    body{
      background:var(--bg);
      color:#eee;
      font-family:system-ui,Arial,sans-serif;
      display:flex;
      flex-direction:column;
    }
    a{color:var(--accent)}
    .wrap{
      flex:1;
      display:flex;
      flex-direction:column;
      width:min(1200px,96vw);
      margin:0 auto;
      padding:40px 20px 24px;
      box-sizing:border-box;
      min-height:calc(100vh - 64px);
    }
    .layout{
      display:grid;
      grid-template-columns:minmax(220px,40%) 1fr;
      gap:18px;
      align-items:start;
      flex:1;
    }
    .left{padding-right:6px;display:flex;flex-direction:column}
    h1{margin:0 0 14px;font-size:30px}
    p{margin:0 0 20px;color:var(--muted)}
    h2{margin:20px 0 12px;font-size:16px}
    ul{margin:8px 0 0 20px;color:var(--muted)}
    .discord-btn{display:inline-block;margin-top:16px;padding:10px 14px;background:#5865F2;color:#fff;border-radius:6px;text-decoration:none;font-weight:600}
    .heads-wrap{margin-top:16px;max-height:calc(100vh - 220px);overflow:auto;padding-right:6px}
    .heads-grid{display:grid;grid-template-columns: repeat(auto-fill, minmax(56px, 1fr));gap:10px;align-items:start}
    .head{width:56px;height:56px;border-radius:8px;background:transparent;overflow:hidden;position:relative;cursor:pointer;transition:transform .12s ease;display:flex;align-items:center;justify-content:center}
    .head img{width:100%;height:100%;object-fit:cover;display:block;background:transparent}
    .head:hover{transform:scale(1.08);z-index:2}
    .rules-wrap{margin-top:12px}
    .rules-box{background:var(--card);border-radius:8px;padding:10px;color:var(--muted);font-size:13px;line-height:1.35;margin-top:6px;margin-left:8px}
    .rules-list{margin:8px 0 0 20px;color:var(--muted)}
    .rules-more{margin-top:10px;color:var(--muted);font-size:13px}
    .right{display:flex;flex-direction:column;align-items:flex-start}

    .slider{
      position:relative;
      overflow:visible;
      border-radius:6px;
      width:100%;
      transition:height 260ms ease;
      background:transparent;
    }
    .track{position:relative}
    .slide{
      position:absolute;
      inset:0;
      display:flex;
      align-items:center;
      justify-content:center;
      opacity:0;
      pointer-events:none;
      transition:opacity .42s ease;
    }
    .slide.active{
      opacity:1;
      pointer-events:auto;
      z-index:1;
      position:relative;
    }
    .slide img{
      display:block;
      max-width:100%;
      height:auto;
      object-fit:contain;
      object-position:center top;
      background:transparent;
    }

    footer{margin-top:auto;color:#b5b5b5;font-size:13px}

    @media (max-width:900px){
      .layout{grid-template-columns:1fr;gap:12px}
      .heads-grid{grid-template-columns: repeat(auto-fill, minmax(48px, 1fr)); gap:8px}
      .head{width:48px;height:48px;border-radius:6px}
      .rules-box{margin-left:4px}
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="layout">
      <div class="left">
        <h1>Spellbound Minecraft</h1>
        <p>Vanilla Minecraft for the greatest of crafters. The hottest, most sexiest that the mines have to offer.</p>
        <h2>Features</h2>
        <ul>
          <li>32 Render Distance, 8 Sim</li>
          <li>Keep Inventory enabled</li>
          <li>Whitelist enabled</li>
          <li>Latest Minecraft version</li>
          <li>Discord chat integration</li>
          <li>Creative & Event server</li>
        </ul>

        <a href="https://discord.spellbound.sh" target="_blank" rel="noopener" class="discord-btn">Join our Discord to apply</a>

        <div class="heads-wrap">
          <h3 style="margin:0 0 8px 0;color:var(--muted);font-size:14px">Players</h3>
          <div class="heads-grid" id="headsGrid"></div>
        </div>
      </div>

      <div class="right">
        <div class="slider" id="slider" aria-roledescription="carousel">
          <div class="track" id="track">
            <div class="slide"><img src="https://i.ibb.co/XxY1YV6y/scrn4.png" alt="The Stone Chicken" loading="lazy"></div>
            <div class="slide"><img src="https://i.ibb.co/Q3fXxjtP/scrn5.png" alt="Look at all those chickens..." loading="lazy"></div>
            <div class="slide"><img src="https://i.ibb.co/LX1s0GDz/scrn3.png" alt="Oh..." loading="lazy"></div>
            <div class="slide"><img src="https://i.ibb.co/4wsMjPrq/scrn2.png" alt="Who wants to play Pong?" loading="lazy"></div>
            <div class="slide"><img src="https://i.ibb.co/Q3dqSSxj/scrn1.png" alt="All hail..." loading="lazy"></div>
          </div>
        </div>

        <div class="rules-wrap">
          <h2>Rules</h2>
          <div class="rules-box">
            <ul class="rules-list">
              <li>Be nice to your fellow crafter</li>
              <li>No NSFW chat</li>
              <li>No X-ray</li>
              <li>No griefing</li>
              <li>No stealing</li>
              <li>No hacking¹</li>
              <li>No game-breaking duplication²</li>
              <li>Do not impede on another player's area³</li>
              <li>Do not utilize any game-breaking exploits⁴</li>
            </ul>

            <p class="rules-more">More details can be found on our Discord server.</p>
          </div>
        </div>

      </div>
    </div>

    <footer>© <span id="year"></span> madelineopolis enterprizes LLSEE</footer>
  </div>

  <script>
    (function(){
      const slider = document.getElementById('slider');
      const track = document.getElementById('track');
      const slides = Array.from(track.querySelectorAll('.slide'));
      const total = slides.length;
      let index = 0;
      let autoplay = true;
      let timer = null;
      const interval = 6000;

      function computeImageDisplayHeight(img){
        const containerWidth = slider.clientWidth;
        const nw = img.naturalWidth || img.width;
        const nh = img.naturalHeight || img.height;
        if(!nw || !nh) return img.clientHeight || 300;
        return Math.round(nh * (containerWidth / nw));
      }

      async function setSliderHeightForIndex(i){
        const img = slides[i].querySelector('img');
        if(!img.complete || img.naturalWidth === 0){
          await new Promise(resolve => {
            img.addEventListener('load', resolve, {once:true});
            setTimeout(resolve, 600);
          });
        }
        const h = computeImageDisplayHeight(img);
        slider.style.height = h + 'px';
      }

      async function setActive(i){
        index = (i + total) % total;
        await setSliderHeightForIndex(index);
        slides.forEach((s, idx)=>{
          s.classList.toggle('active', idx === index);
        });
      }

      function startTimer(){ if(timer) clearInterval(timer); if(autoplay) timer = setInterval(()=> setActive(index+1), interval); }
      function resetTimer(){ startTimer(); }

      let touchStartY = null;
      slider.addEventListener('touchstart', (e)=>{ if(e.touches && e.touches[0]) touchStartY = e.touches[0].clientY; autoplay=false; if(timer) clearInterval(timer); }, {passive:true});
      slider.addEventListener('touchend', (e)=>{ const endY = (e.changedTouches && e.changedTouches[0])? e.changedTouches[0].clientY : 0; if(touchStartY!=null){ const d = touchStartY - endY; if(Math.abs(d) > 30){ if(d > 0) setActive(index+1); else setActive(index-1); } } touchStartY = null; autoplay=true; startTimer(); }, {passive:true});

      let resizeTimer = null;
      window.addEventListener('resize', ()=>{ if(resizeTimer) clearTimeout(resizeTimer); resizeTimer = setTimeout(()=> setSliderHeightForIndex(index), 120); });

      (async ()=>{
        await setSliderHeightForIndex(0);
        slides.forEach((s, idx)=> s.classList.toggle('active', idx === 0));
        startTimer();
      })();
    })();

    const players = [
"8oii","_pengwing","Brandonzx3","Comrade_2099","coxaflappin","Dank_dan","DiamondRoseToy",
"DK60","el_djentleman","ElliePadd13","EyesOfAWolf","fransam","Gabrielh7038123","glasscr0ss",
"HyperEh","Hypotemabus","imtoolazytoo","juniper_zero","KayPtz","Link0765","lokm08","LolBoomSheep",
"lostcause1","lpwo","Lukinftw","madeline0706","malay_sia","Megamon","mostlightgreen",
"MrCookie894247","Recycled_Scraps","SirSillee","SpadeBerserker","sulphuricIris333","Swiftace630",
"tamolny","TerroristAndalu","Therm0o","TheTaco2k","TrueFoxtrot","Unicornspice42","unknownharlequin","xDuds"
    ];

    function fetchUUIDForName(name){
      const url = `https://api.mojang.com/users/profiles/minecraft/${encodeURIComponent(name)}`;
      return fetch(url, {cache: 'no-store'}).then(res=>{
        if(res.status === 200) return res.json().then(j=>j.id || null);
        return null;
      }).catch(()=>null);
    }

    function crafatarHeadUrl(uuid, size=56){
      if(!uuid) return null;
      return `https://crafatar.com/renders/head/${uuid}?size=${size}&overlay=true`;
    }

    function mcHeadsFallback(name){
      return `https://mc-heads.net/head/${encodeURIComponent(name)}`;
    }

    (async function populateHeads(){
      const grid = document.getElementById('headsGrid');
      if(!grid) return;
      grid.innerHTML = '';
      const nodes = players.map(name=>{
        const wrapper = document.createElement('a');
        wrapper.className = 'head';
        wrapper.href = `https://mc-heads.net/head/${encodeURIComponent(name)}`;
        wrapper.target = '_blank';
        wrapper.rel = 'noopener noreferrer';
        wrapper.setAttribute('aria-label', name);
        const img = document.createElement('img');
        img.alt = name;
        img.loading = 'lazy';
        img.src = 'data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=';
        wrapper.appendChild(img);
        grid.appendChild(wrapper);
        return {name, wrapper, img};
      });

      for(const item of nodes){
        const {name, img} = item;
        let uuid = null;
        try{ uuid = await fetchUUIDForName(name); }catch(e){ uuid = null; }
        if(uuid){
          img.src = crafatarHeadUrl(uuid, 56);
        }else{
          img.src = mcHeadsFallback(name);
        }
      }
    })();

    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
</body>
</html>
